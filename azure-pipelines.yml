jobs:
- job: Windows
  pool:
      vmImage: vs2017-win2016
  steps:
      - task: NodeTool@0
        inputs:
            versionSpec: '8.11.4'
      - task: geeklearningio.gl-vsts-tasks-yarn.yarn-installer-task.YarnInstaller@2
        inputs:
            versionSpec: '1.9.x'
      - script: |
            yarn install --force
        name: Install
      - script: |
            yarn lint
        name: Lint
      - script: |
            yarn test
        name: Test
      - script: |
            yarn build
        name: Build
 - job: Linux
  pool:
      vmImage: ubuntu-16.04
  steps:
      - script: |
          sudo apt-get update
          sudo apt-get install -y --no-install-recommends libsecret-1-dev xvfb fakeroot dpkg rpm xz-utils xorriso zsync libxss1 libgconf2-4 libgtk-3-0
      - task: NodeTool@0
        inputs:
            versionSpec: '8.11.4'
      - task: geeklearningio.gl-vsts-tasks-yarn.yarn-installer-task.YarnInstaller@2
        inputs:
            versionSpec: '1.9.x'
      - script: |
            yarn install --force
        name: Install
      - script: |
            yarn lint
        name: Lint
      - script: |
            yarn test
        name: Test
      - script: |
            yarn build
        name: Build
 - job: macOS
  pool:
      vmImage: xcode9-macos10.13
  steps:
      - task: NodeTool@0
        inputs:
            versionSpec: '8.11.4'
      - task: geeklearningio.gl-vsts-tasks-yarn.yarn-installer-task.YarnInstaller@2
        inputs:
            versionSpec: '1.9.x'
      - script: |
            yarn install --force
        name: Install
      - script: |
            yarn lint
        name: Lint
      - script: |
            yarn test
        name: Test
      - script: |
            yarn build
        name: Build
